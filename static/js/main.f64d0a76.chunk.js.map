{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","App.js","reportWebVitals.js","index.js"],"names":["Searchbar","state","searchPhoto","handlePhotoChange","event","setState","currentTarget","value","toLowerCase","handlePhotoSubmit","preventDefault","trim","props","onSubmit","toast","error","className","this","type","placeholder","onChange","Component","ImageGalleryItem","src","alt","Spinner","color","height","width","timeout","Button","onClick","ImageGallery","photos","loading","page","handleAddPage","prevState","handleModalPhoto","modalPhoto","prevProps","fetch","then","res","json","hits","catch","finally","window","scrollTo","top","document","documentElement","scrollHeight","behavior","map","hit","largeImageURL","webformatURL","id","length","modalRoot","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","addEventListener","removeEventListener","createPortal","largePhoto","App","showModal","handleFormSubmit","toggleModal","handleClickPhoto","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"sRAOqBA,E,4MAInBC,MAAQ,CACNC,YAAa,I,EAEfC,kBAAoB,SAAAC,GAClB,EAAKC,SAAS,CAAEH,YAAaE,EAAME,cAAcC,MAAMC,iB,EAEzDC,kBAAoB,SAAAL,GAClBA,EAAMM,iBACgC,KAAlC,EAAKT,MAAMC,YAAYS,QAI3B,EAAKC,MAAMC,SAAS,EAAKZ,MAAMC,aAC/B,EAAKG,SAAS,CAAEH,YAAa,MAJ3BY,IAAMC,MAAM,oK,4CAMhB,WACE,OACE,wBAAQC,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaH,SAAUI,KAAKR,kBAA5C,UACE,wBAAQS,KAAK,SAASF,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVE,KAAK,OAGLC,YAAY,2BACZZ,MAAOU,KAAKhB,MAAMC,YAClBkB,SAAUH,KAAKd,6B,GAlCYkB,a,QCIxBC,EAPU,SAAC,GAAa,IAAXC,EAAU,EAAVA,IAC1B,OACE,mCACE,qBAAKA,IAAKA,EAAKC,IAAI,GAAGR,UAAU,8B,yBCFjBS,E,4JACnB,WACE,OACE,qBAAKT,UAAU,UAAf,SACE,cAAC,IAAD,CACEE,KAAK,OACLQ,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,Y,GATkBR,aCStBS,EAVA,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAChB,OACE,qBAAKf,UAAU,kBAAf,SACE,wBAAQE,KAAK,SAASF,UAAU,SAASe,QAASA,EAAlD,0BCDeC,E,4MAQnB/B,MAAQ,CACNgC,OAAQ,GACRC,SAAS,EACTC,KAAM,EACNpB,MAAO,M,EAsCTqB,cAAgB,WACd,EAAK/B,UAAS,SAAAgC,GACZ,MAAO,CACLF,KAAME,EAAUF,KAAO,O,EAI7BG,iBAAmB,SAAAC,GACjB,EAAK3B,MAAMmB,QAAQQ,I,wDA5CrB,SAAmBC,EAAWH,GAAY,IAAD,OAC/BnC,EAAgBe,KAAKL,MAArBV,YACAiC,EAASlB,KAAKhB,MAAdkC,KACJK,EAAUtC,cAAgBA,IAC5Be,KAAKZ,SAAS,CAAE8B,KAAM,EAAGF,OAAQ,GAAIC,SAAS,IAC9CO,MAAM,8BAAD,OAC2BvC,EAD3B,uGAGFwC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAT,GAAM,OAAI,EAAK5B,SAAS,CAAE4B,OAAQA,EAAOY,UAC9CC,OAAM,SAAA/B,GAAK,OAAI,EAAKV,SAAS,CAAEU,aAC/BgC,SAAQ,kBAAM,EAAK1C,SAAS,CAAE6B,SAAS,QAG1CG,EAAUF,OAASA,GACnBA,EAAO,GACPK,EAAUtC,cAAgBA,IAE1Be,KAAKZ,SAAS,CAAE6B,SAAS,IACzBO,MAAM,8BAAD,OAC2BvC,EAD3B,iBAC+CiC,EAD/C,gGAGFO,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAT,GAAM,OACV,EAAK5B,SAAS,CAAE4B,OAAO,GAAD,mBAAMI,EAAUJ,QAAhB,YAA2BA,EAAOY,YAEzDC,OAAM,SAAA/B,GAAK,OAAI,EAAKV,SAAS,CAAEU,aAC/BgC,SAAQ,WACP,EAAK1C,SAAS,CAAE6B,SAAS,IACzBc,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,iB,oBAepB,WAAU,IAAD,OACP,EAAmCrC,KAAKhB,MAAhCgC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,QAASnB,EAAzB,EAAyBA,MACzB,OACE,gCACGA,GAAS,6JAA4BE,KAAKL,MAAMV,eAChDgC,GAAW,cAAC,EAAD,KACVD,GAAU,2JACXA,GACC,oBAAIjB,UAAU,eAAd,SACGiB,EAAOsB,KAAI,SAAAC,GAAG,OACb,oBACExC,UAAU,mBAEVe,QAAS,kBAAM,EAAKO,iBAAiBkB,EAAIC,gBAH3C,SAKE,cAAC,EAAD,CAAkBlC,IAAKiC,EAAIE,gBAHtBF,EAAIG,SAQhB1B,EAAO2B,OAAS,GAAK,cAAC,EAAD,CAAQ7B,QAASd,KAAKmB,uB,GAhFVf,aCFpCwC,EAAYV,SAASW,cAAc,eACpBC,E,4MAOnBC,cAAgB,SAAA5D,GACK,WAAfA,EAAM6D,MACR,EAAKrD,MAAMsD,W,EAGfC,oBAAsB,SAAA/D,GAChBA,EAAME,gBAAkBF,EAAMgE,QAChC,EAAKxD,MAAMsD,W,uDAbf,WACElB,OAAOqB,iBAAiB,UAAWpD,KAAK+C,iB,kCAE1C,WACEhB,OAAOsB,oBAAoB,UAAWrD,KAAK+C,iB,oBAY7C,WACE,OAAOO,uBACL,qBAAKvD,UAAU,UAAUe,QAASd,KAAKkD,oBAAvC,SACE,qBAAKnD,UAAU,QAAf,SACE,qBAAKO,IAAKN,KAAKL,MAAM4D,WAAYhD,IAAI,mBAIzCqC,O,GAzB6BxC,aCEdoD,E,4MAOnBxE,MAAQ,CACNC,YAAa,GACbwE,WAAW,EACXnC,WAAY,I,EAEdoC,iBAAmB,SAAAzE,GACjB,EAAKG,SAAS,CAAEH,iB,EAGlB0E,YAAc,WACZ,EAAKvE,UAAS,kBAAoB,CAChCqE,WADY,EAAGA,e,EAInBG,iBAAmB,SAAAtC,GACjB,EAAKlC,SAAS,CAAEkC,aAAYmC,WAAW,K,4CAGzC,WACE,MAAmCzD,KAAKhB,MAAhCC,EAAR,EAAQA,YAAawE,EAArB,EAAqBA,UACrB,OACE,qCACGA,GACC,cAAC,EAAD,CACER,QAASjD,KAAK2D,YACdJ,WAAYvD,KAAKhB,MAAMsC,aAG3B,cAAC,IAAD,CAAgBuC,UAAW,MAC3B,cAAC,EAAD,CAAWjE,SAAUI,KAAK0D,mBAC1B,cAAC,EAAD,CACEzE,YAAaA,EACb6B,QAASd,KAAK4D,0B,GAvCSxD,aCKlB0D,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBvC,MAAK,YAAkD,IAA/CwC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFtC,SAASuC,eAAe,SAM1BX,K","file":"static/js/main.f64d0a76.chunk.js","sourcesContent":["import React, { Component } from 'react';\n// import { toast } from 'react-toastify';\nimport '../../components/styles.css';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport PropTypes from 'prop-types';\n\nexport default class Searchbar extends Component {\n  static propTypes = {\n    searchPhoto: PropTypes.string,\n  };\n  state = {\n    searchPhoto: '',\n  };\n  handlePhotoChange = event => {\n    this.setState({ searchPhoto: event.currentTarget.value.toLowerCase() });\n  };\n  handlePhotoSubmit = event => {\n    event.preventDefault();\n    if (this.state.searchPhoto.trim() === '') {\n      toast.error('ВВЕДИТЕ КЛЮЧЕВОЕ СЛОВО ПОИСКА');\n      return;\n    }\n    this.props.onSubmit(this.state.searchPhoto);\n    this.setState({ searchPhoto: '' });\n  };\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handlePhotoSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            // autocomplete=\"off\"\n            // autofocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchPhoto}\n            onChange={this.handlePhotoChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport '../../components/styles.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ src }) => {\n  return (\n    <>\n      <img src={src} alt=\"\" className=\"ImageGalleryItem-image\" />\n    </>\n  );\n};\nexport default ImageGalleryItem;\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n};\n","import React, { Component } from 'react';\nimport '../../components/styles.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\n\nexport default class Spinner extends Component {\n  render() {\n    return (\n      <div className=\"Overlay\">\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000} //3 secs\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport '../../components/styles.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className=\"buttonContainer\">\n      <button type=\"button\" className=\"Button\" onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport '../../components/styles.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Spinner from '../Loader/Loader';\nimport Button from '../Button/Button';\nimport PropTypes from 'prop-types';\nexport default class ImageGallery extends Component {\n  static propTypes = {\n    photos: PropTypes.array,\n    loading: PropTypes.bool,\n    page: PropTypes.number,\n    error: PropTypes.any,\n    searchPhoto: PropTypes.string,\n  };\n  state = {\n    photos: [],\n    loading: false,\n    page: 1,\n    error: null,\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const { searchPhoto } = this.props;\n    const { page } = this.state;\n    if (prevProps.searchPhoto !== searchPhoto) {\n      this.setState({ page: 1, photos: [], loading: true });\n      fetch(\n        `https://pixabay.com/api/?q=${searchPhoto}&page=1&key=22333452-088c943be01bb3bdea991b2c2&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n        .then(res => res.json())\n        .then(photos => this.setState({ photos: photos.hits }))\n        .catch(error => this.setState({ error }))\n        .finally(() => this.setState({ loading: false }));\n    }\n    if (\n      prevState.page !== page &&\n      page > 1 &&\n      prevProps.searchPhoto === searchPhoto\n    ) {\n      this.setState({ loading: true });\n      fetch(\n        `https://pixabay.com/api/?q=${searchPhoto}&page=${page}&key=22333452-088c943be01bb3bdea991b2c2&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n        .then(res => res.json())\n        .then(photos =>\n          this.setState({ photos: [...prevState.photos, ...photos.hits] }),\n        )\n        .catch(error => this.setState({ error }))\n        .finally(() => {\n          this.setState({ loading: false });\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        });\n    }\n  }\n  handleAddPage = () => {\n    this.setState(prevState => {\n      return {\n        page: prevState.page + 1,\n      };\n    });\n  };\n  handleModalPhoto = modalPhoto => {\n    this.props.onClick(modalPhoto);\n  };\n  render() {\n    const { photos, loading, error } = this.state;\n    return (\n      <div>\n        {error && <p>Ошибка запроса по слову {this.props.searchPhoto}</p>}\n        {loading && <Spinner />}\n        {!photos && <p>Введите ключевое слово</p>}\n        {photos && (\n          <ul className=\"ImageGallery\">\n            {photos.map(hit => (\n              <li\n                className=\"ImageGalleryItem\"\n                key={hit.id}\n                onClick={() => this.handleModalPhoto(hit.largeImageURL)}\n              >\n                <ImageGalleryItem src={hit.webformatURL} />\n              </li>\n            ))}\n          </ul>\n        )}\n        {photos.length > 0 && <Button onClick={this.handleAddPage} />}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport '../../components/styles.css';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={this.props.largePhoto} alt=\"largePhoto\" />\n          {/* {this.props.children} */}\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\nimport { ToastContainer } from 'react-toastify';\nimport PropTypes from 'prop-types';\n\nexport default class App extends Component {\n  static propTypes = {\n    searchPhoto: PropTypes.string,\n    filter: PropTypes.string,\n    showModal: PropTypes.bool,\n    modalPhoto: PropTypes.string,\n  };\n  state = {\n    searchPhoto: '',\n    showModal: false,\n    modalPhoto: '',\n  };\n  handleFormSubmit = searchPhoto => {\n    this.setState({ searchPhoto });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  handleClickPhoto = modalPhoto => {\n    this.setState({ modalPhoto, showModal: true });\n  };\n\n  render() {\n    const { searchPhoto, showModal } = this.state;\n    return (\n      <>\n        {showModal && (\n          <Modal\n            onClose={this.toggleModal}\n            largePhoto={this.state.modalPhoto}\n          />\n        )}\n        <ToastContainer autoClose={3000} />\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery\n          searchPhoto={searchPhoto}\n          onClick={this.handleClickPhoto}\n        />\n      </>\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}